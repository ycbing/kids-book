# ğŸ“ åç«¯æ—¥å¿—æŸ¥çœ‹æŒ‡å—

## å®æ—¶æŸ¥çœ‹æ—¥å¿—

### æ–¹æ³•1: æŸ¥çœ‹åå°è¿›ç¨‹è¾“å‡ºï¼ˆæ¨èï¼‰

```bash
# æŸ¥çœ‹åç«¯è¿›ç¨‹è¾“å‡º
cat C:\Users\SHData\AppData\Local\Temp\claude\d--workspace-ai-picture-book\tasks\b66c587.output
```

### æ–¹æ³•2: æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶

```bash
# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f backend/backend.log

# Windows PowerShell
Get-Content backend\backend.log -Wait
```

### æ–¹æ³•3: é‡å¯åç«¯å¹¶ç›´æ¥æŸ¥çœ‹è¾“å‡º

```bash
cd backend
python -m app.main
```

## æ—¥å¿—å†…å®¹è¯´æ˜

### 1. æœåŠ¡å¯åŠ¨æ—¥å¿—
```
============================================================
AIç»˜æœ¬åˆ›ä½œå¹³å° - åç«¯æœåŠ¡å¯åŠ¨
å¯åŠ¨æ—¶é—´: 2026-01-07 12:00:00
============================================================
```

### 2. HTTPè¯·æ±‚æ—¥å¿—
```
============================================================
ğŸ“¥ æ”¶åˆ°è¯·æ±‚
æ–¹æ³•: POST
è·¯å¾„: /api/v1/generate/story
å®Œæ•´URL: http://localhost:8000/api/v1/generate/story
å®¢æˆ·ç«¯: 127.0.0.1
è¯·æ±‚ä½“:
{
  "theme": "å‹‡æ•¢çš„å°é±¼",
  "keywords": ["å°é±¼", "æµ·æ´‹"],
  "target_age": "3-6å²",
  "page_count": 4
}
============================================================
```

### 3. AIå¤„ç†æ—¥å¿—
```
============================================================
ğŸ¨ å¼€å§‹ç”Ÿæˆæ•…äº‹
ä¸»é¢˜: å‹‡æ•¢çš„å°é±¼
å…³é”®è¯: ['å°é±¼', 'æµ·æ´‹']
å¹´é¾„æ®µ: 3-6å²
é¡µæ•°: 4
============================================================
ğŸ“¤ å‘AIå‘é€è¯·æ±‚...
æ¨¡å‹: tencent/Hunyuan-MT-7B
ğŸ“¥ æ”¶åˆ°AIå“åº” (é•¿åº¦: 2543 å­—ç¬¦)
åŸå§‹å“åº”å‰500å­—ç¬¦:
{...}
âœ… æ•…äº‹ç”ŸæˆæˆåŠŸ!
æ ‡é¢˜: å‹‡æ•¢çš„å°é±¼
æè¿°: ...
é¡µæ•°: 4
============================================================
```

### 4. å“åº”æ—¥å¿—
```
ğŸ“¤ å‘é€å“åº”
çŠ¶æ€ç : 200
å¤„ç†æ—¶é—´: 15.234ç§’
============================================================
```

## æµ‹è¯•æ—¥å¿—è¾“å‡º

### æµ‹è¯•1: å¥åº·æ£€æŸ¥
```bash
curl http://localhost:8000/health
```

### æµ‹è¯•2: æ•…äº‹ç”Ÿæˆ
```bash
curl -X POST http://localhost:8000/api/v1/generate/story \
  -H "Content-Type: application/json" \
  -d '{"theme":"æµ‹è¯•","keywords":["æµ‹è¯•"],"target_age":"3-6å²","page_count":4}'
```

### æµ‹è¯•3: å‰ç«¯è°ƒç”¨

åœ¨å‰ç«¯ç•Œé¢æ“ä½œï¼š
1. è®¿é—® http://localhost:5175
2. ç‚¹å‡»"åˆ›ä½œç»˜æœ¬"
3. å¡«å†™è¡¨å•å¹¶æäº¤
4. è§‚å¯Ÿåç«¯æ—¥å¿—è¾“å‡º

## æ—¥å¿—çº§åˆ«

- `INFO`: æ­£å¸¸æ“ä½œæ—¥å¿—ï¼ˆè¯·æ±‚ã€å“åº”ã€å¤„ç†è¿›åº¦ï¼‰
- `WARNING`: è­¦å‘Šä¿¡æ¯ï¼ˆå¦‚æ— æ³•è¯»å–è¯·æ±‚ä½“ï¼‰
- `ERROR`: é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚AIç”Ÿæˆå¤±è´¥ã€JSONè§£æå¤±è´¥ï¼‰

## æ—¥å¿—ä½ç½®

- **æ§åˆ¶å°è¾“å‡º**: åç«¯å¯åŠ¨æ—¶çš„ç»ˆç«¯
- **æ—¥å¿—æ–‡ä»¶**: `backend/backend.log`
- **åå°ä»»åŠ¡**: `C:\Users\SHData\AppData\Local\Temp\claude\d--workspace-ai-picture-book\tasks\`

## é…ç½®æ—¥å¿—çº§åˆ«

ä¿®æ”¹ `backend/app/main.py` ä¸­çš„æ—¥å¿—é…ç½®ï¼š

```python
logging.basicConfig(
    level=logging.DEBUG,  # æ”¹ä¸º DEBUG å¯æŸ¥çœ‹æ›´è¯¦ç»†çš„æ—¥å¿—
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.StreamHandler(),
        logging.FileHandler('backend.log', encoding='utf-8')
    ]
)
```

## å®æ—¶ç›‘æ§è„šæœ¬

åˆ›å»º `watch_logs.sh`:
```bash
#!/bin/bash
echo "æ­£åœ¨ç›‘æ§åç«¯æ—¥å¿—..."
tail -f backend/backend.log
```

è¿è¡Œ: `bash watch_logs.sh`

## å¸¸è§é—®é¢˜

### Q: çœ‹ä¸åˆ°ä¸­æ–‡æ—¥å¿—ï¼Ÿ
**A**: ç¡®ä¿ç»ˆç«¯ä½¿ç”¨UTF-8ç¼–ç ï¼š
```bash
export PYTHONIOENCODING=utf-8
```

### Q: æ—¥å¿—æ–‡ä»¶å¤ªå¤§ï¼Ÿ
**A**: å¯ä»¥é…ç½®æ—¥å¿—è½®è½¬ï¼Œæˆ–è€…å®šæœŸæ¸…ç†ï¼š
```bash
rm backend/backend.log
```

### Q: æƒ³çœ‹æ›´è¯¦ç»†çš„æ—¥å¿—ï¼Ÿ
**A**: ä¿®æ”¹æ—¥å¿—çº§åˆ«ä¸º DEBUGï¼š
```python
level=logging.DEBUG
```

## å½“å‰åç«¯çŠ¶æ€

- **åç«¯è¿›ç¨‹**: b66c587 (è¿è¡Œä¸­)
- **ç«¯å£**: 8000
- **æ—¥å¿—æ–‡ä»¶**: backend/backend.log
- **æœåŠ¡åœ°å€**: http://localhost:8000

## ä¸‹ä¸€æ­¥

1. å¯åŠ¨å‰ç«¯: `cd frontend && npm run dev`
2. è®¿é—® http://localhost:5175
3. åœ¨å‰ç«¯æ‰§è¡Œæ“ä½œ
4. å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—è¾“å‡º
